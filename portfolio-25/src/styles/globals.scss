@use 'base/fonts';
@use 'base/reset';
@use 'index' as *;

:root {
  --color-bg: #{$color-bg};
  --color-text: #{$color-text};
  --color-text-muted: #{$color-text-muted};
  --color-primary: #{$color-primary};
  --color-primary-hover: #{$color-primary-hover};
  --color-primary-active: #{$color-primary-active};
  --color-border: #{$color-border};
  --color-surface: #{$color-surface};
  --color-surface-alt: #{$color-surface-alt};
  --color-on-primary: #{$color-on-primary};
  --color-on-surface: #{$color-on-surface};
  --color-on-surface-alt: #{$color-on-surface-alt};

  --space-1: #{$space-1};
  --space-2: #{$space-2};
  --space-3: #{$space-3};
  --space-4: #{$space-4};
  --space-5: #{$space-5};
  --space-6: #{$space-6};
  --space-8: #{$space-8};
  --space-10: #{$space-10};
  --space-12: #{$space-12};

  --container-max: #{$container-max};
  --header-offset: #{$header-offset};
  --grid-gap: #{$grid-gap};
  --space-section: #{$space-section};

  --radius-sm: #{$radius-sm};
  --radius-md: #{$radius-md};
  --radius-lg: #{$radius-lg};
  --shadow-sm: #{$shadow-sm};
  --shadow-md: #{$shadow-md};
  --shadow-lg: #{$shadow-lg};

  --transition-main: cubic-bezier(0.11, 0.82, 0.39, 0.92);

  --step--1: 0.875rem;
  --step-0: 1rem;
  --step-1: 1.25rem;
  --step-2: 1.5rem;
  --step-3: 2rem;
  --step-4: 2.75rem;
  --lh-tight: 1.2;
  --lh-normal: 1.5;
  --lh-loose: 1.7;
}

html {
  font-size: clamp(
    #{$fluid-min-root},
    calc(
      #{$fluid-min-root} + (#{$fluid-max-root - $fluid-min-root}) * ((100vw - #{$fluid-min-vw}) /
            (#{$fluid-max-vw - $fluid-min-vw}))
    ),
    #{$fluid-max-root}
  );
  // 전역 스크롤 동작
  scroll-padding-top: var(--header-offset);
  scroll-behavior: smooth;
}
html.is-scroll-locked {
  overflow-y: hidden;
}
@supports not (font-size: clamp(1px, 2px, 3px)) {
  html {
    font-size: #{$fluid-min-root};
  }
}

body {
  font-family: 'Lato', 'Spoqa Han Sans Neo', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',
    Arial, 'Noto Sans KR', sans-serif;
  font-size: var(--step-0);
  line-height: var(--lh-normal);
  color: var(--color-text, #{$color-text});
  background: var(--color-bg, #{$color-bg});
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  color: var(--color-text);
  text-decoration: none;
}
a,
button {
  &:focus-visible {
    @include focus-ring;
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 400;
  line-height: var(--lh-tight);
}
// p {
//   white-space: pre-line;
// }

/* layout */
.main {
  scroll-margin-top: var(--header-offset);
}
.section {
  position: relative;
  min-height: calc(100dvh - var(--header-offset));

  &:focus-visible {
    @include focus-ring;
  }
  &:not(:first-of-type) {
    padding-block: var(--space-section);
  }
}
.container {
  @include container();
}
.icon {
  width: 100%;
  height: auto;
}

/* 스크린리더 전용 */
.sr-only {
  @include sr-only;

  &:focus,
  &:focus-visible {
    @include sr-only-focus;
  }
}

/* util */
.center {
  @include flex-center;
}
.truncate {
  @include truncate;
}
.responsive-title {
  @include fluid-type(18, 28);
}
.btn {
  @include button-base;
}

@include respond(max, lg) {
  .container {
    @include container($gutter: 20px);
  }
}
